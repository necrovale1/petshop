<!DOCTYPE html>
<html lang="pt-BR">
<head>
                <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    </head>
<body>
    <header>
        </header>

    <div class="container">
        <div id="global-message-container"></div>
        <div id="checkout-message"></div>
        
        <div id="checkout-form-container" class="checkout-form">
            <h2>Finalizar Compra</h2>

            <div class="checkout-step">
                <h3><span class="step-number">1</span> Detalhes da Entrega</h3>
                <form id="checkout-form">
                    <div class="form-group">
                        <label for="address">Endere√ßo Completo:</label>
                        <input type="text" id="address" name="address" required>
                    </div>
                    <div class="shipping-calc">
                        <div class="form-group">
                            <label for="zipcode">CEP para c√°lculo do frete:</label>
                            <input type="text" id="zipcode" name="zipcode" placeholder="Apenas n√∫meros" required>
                        </div>
                        <button type="button" id="calculate-shipping-btn">Calcular Frete</button>
                    </div>
                    <div id="shipping-results"></div>
                </form>
            </div>

            <div class="checkout-step">
                <h3><span class="step-number">2</span> Pagamento</h3>
                <div class="payment-method-selection">
                    <label>
                        <input type="radio" name="payment_method" value="credit_card" id="payment_card" checked>
                        <div class="payment-method-option">
                            <span class="icon">üí≥</span> Cart√£o de Cr√©dito
                        </div>
                    </label>
                    <label>
                        <input type="radio" name="payment_method" value="pix" id="payment_pix">
                        <div class="payment-method-option">
                             <span class="icon">‚ú®</span> PIX
                        </div>
                    </label>
                </div>
                
                <div id="credit-card-info">
                    <div class="form-group">
                        <label for="card-number">N√∫mero do Cart√£o:</label>
                        <div class="card-number-wrapper">
                            <input type="text" id="card-number" name="card_number" placeholder="0000 0000 0000 0000" required>
                            <div id="card-logo-container"></div>
                        </div>
                    </div>
                    <div class="form-group-row">
                        <div class="form-group">
                            <label for="card-expiry">Validade:</label>
                            <input type="text" id="card-expiry" name="card_expiry" placeholder="MM/AA" required>
                        </div>
                        <div class="form-group">
                            <label for="card-cvc">CVC:</label>
                            <input type="text" id="card-cvc" name="card_cvc" placeholder="000" required>
                        </div>
                    </div>
                     <div class="form-group">
                        <label for="card-name">Nome no Cart√£o:</label>
                        <input type="text" id="card-name" name="card_name" placeholder="Como aparece no cart√£o" required>
                    </div>
                </div>
            </div>

            <div class="checkout-step">
                <h3><span class="step-number">3</span> Resumo do Pedido</h3>
                <div class="order-summary-final">
                     <ul id="order-summary-items"></ul>
                     <div id="subtotal-line">
                         <span>Subtotal:</span><span id="summary-subtotal">R$ 0,00</span>
                     </div>
                     <div id="shipping-line" style="display: none;">
                         <span>Frete:</span><span id="summary-shipping">R$ 0,00</span>
                     </div>
                     <div id="total-line">
                         <span>Total:</span><span id="summary-total">R$ 0,00</span>
                     </div>
                </div>
                <button type="submit" id="place-order-btn" form="checkout-form" style="width: 100%; margin-top: 20px;">Efetuar Pagamento</button>
            </div>
        </div>
    </div>

    <div id="pix-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-btn">&times;</span>
            <h2>Pagamento com PIX</h2>
            <div id="pix-loader" style="display: none;">
                <p>Gerando seu c√≥digo PIX, aguarde...</p>
                <div class="spinner"></div>
            </div>
            <div id="pix-qr-code-area" style="display: none;">
                <p>Escaneie o QR Code abaixo com o app do seu banco.</p>
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Este-e-um-QR-Code-de-teste-para-o-PetShop" alt="QR Code PIX">
                <p style="margin-top: 15px;">Ou use o c√≥digo "Copia e Cola":</p>
                <input type="text" readonly value="00020126330014br.gov.bcb.pix01111234567890125204000053039865802BR5913NOMEEXEMPLO6009SAOPAULO62070503***" class="pix-code-input">
                <button id="confirm-pix-payment-btn" class="cta-button" style="width: 100%; margin-top: 25px;">J√° paguei, finalizar o pedido!</button>
            </div>
        </div>
    </div>

    <div id="success-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="success-icon">‚úÖ</span>
            <h2>Compra Realizada com Sucesso!</h2>
            <p>Seu pedido foi recebido e j√° est√° em prepara√ß√£o. Voc√™ ser√° redirecionado para a p√°gina "Meus Pedidos" em 5 segundos.</p>
            <a href="history.html" class="cta-button">Ver Meus Pedidos Agora</a>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 PetShop Online.</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>

    <footer>
        </footer>

    <script src="js/script.js"></script>
</body>
</html>